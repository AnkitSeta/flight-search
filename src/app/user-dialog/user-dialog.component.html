<div class="dialog-container">
  <h2 mat-dialog-title>Add New User</h2>
  <mat-dialog-content>
    <form [formGroup]="userForm">
      <div
        fxLayout="row"
        fxLayoutAlign="space-between start"
        fxLayoutGap="10px"
      >
        <mat-form-field
          fxFlex="50%"
          fxFlexFill
          appearance="outline"
          color="accent"
        >
          <mat-label>User Name</mat-label>
          <input
            matInput
            placeholder="User Name"
            type="text"
            maxlength="100"
            minlength="2"
            formControlName="name"
            required
          />
          <mat-error
            align="end"
            *ngIf="
              formRef()['name'].touched &&
              formRef()['name'].hasError('required')
            "
          >
            This field is required
          </mat-error>
        </mat-form-field>
        <mat-form-field
          fxFlex="50%"
          fxFlexFill
          appearance="outline"
          color="accent"
        >
          <mat-label>User Email</mat-label>
          <input
            matInput
            placeholder="User Email"
            type="email"
            minlength="2"
            formControlName="email"
            required
          />
          <mat-error
            align="end"
            *ngIf="
              formRef()['email'].touched &&
              formRef()['email'].hasError('required')
            "
          >
            This field is required
          </mat-error>
        </mat-form-field>
      </div>
      <div fxLayout="row" fxLayoutAlign="center start" fxLayoutGap="10px">
        <mat-form-field
          fxFlex="100%"
          fxFlexFill
          appearance="outline"
          color="accent"
        >
          <mat-label>User address</mat-label>

          <textarea
            matInput
            placeholder="User Address"
            type="text"
            maxlength="250"
            minlength="2"
            formControlName="address"
          ></textarea>
          <mat-hint align="end">
            {{
              formRef()["address"].value
                ? formRef()["address"].value.length
                : "0"
            }}/250
          </mat-hint>

          <mat-error
            align="end"
            *ngIf="
              formRef()['address'].touched &&
              formRef()['address'].hasError('required')
            "
          >
            This field is required
          </mat-error>
        </mat-form-field>
      </div>
      <div
        fxLayout="row"
        fxLayoutAlign="space-between center"
        fxLayoutGap="20px"
      >
        <mat-form-field
          fxFlex="100%"
          fxFlexFill
          appearance="outline"
          color="accent"
        >
          <mat-label>Date of Birth</mat-label>
          <input formControlName="dob" required [max]="today" matInput [matDatepicker]="picker" />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error
            align="end"
            *ngIf="
              formRef()['dob'].touched &&
              formRef()['dob'].hasError('required')
            "
          >
            This field is required
          </mat-error>
        </mat-form-field>

        <mat-radio-group
          formControlName="gender"
          fxFlex="50%"
          fxFlexFill
          aria-label="Select Gender"
        >
          <mat-radio-button style="margin-right: 10px" value="MALE"
            >Male</mat-radio-button
          >
          <mat-radio-button value="FEMALE">Female</mat-radio-button>
        </mat-radio-group>
      </div>
    </form>
  </mat-dialog-content>
  <div class="spacer"></div>
  <mat-dialog-actions align="center">
    <button mat-stroked-button type="button" color="warn" mat-dialog-close>
      Cancel
    </button>
    <button
      [disabled]="userForm.invalid"
      mat-flat-button
      (click)="onSubmit()"
      color="primary"
    >
      Submit
    </button>
  </mat-dialog-actions>
</div>
